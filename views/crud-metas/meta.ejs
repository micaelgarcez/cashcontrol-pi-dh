<%- include('../parts/head',{title:'CASH - Lançamento de Metas'}); %>
<link rel="stylesheet" href="/css/form-pizza.css">
<form id="form-pizza" method="POST" action="/metas/store">
  <h1> Nova Meta </h1>
  <% if (typeof(erros) != "undefined") { %>
    <p style="color: red"> ERRO </p>
    <ul>
      <% erros.forEach((erro) => { %>
          <li><%= erro.msg %></li>
      <% }) %>
    </ul>
  <% } %>
  <% if (typeof(ErroCustomizado) != "undefined") { %>
    <p style="color: red"> ERRO </p>
    <ul>
      <li><%= ErroCustomizado %></li>
    </ul>
  <% } %>
  <label>
    Ano:
    <input type="number" name="ano" id="ano" value="<%= Periodo.Ano %>" placeholder="ano da meta">
  </label>

  <label>
    Mês:
    <input type="number" name="mes" id="mes" value="<%= Periodo.Mes %>" placeholder="mês da meta">
  </label>

  <label>
    Categoria:
    <select name="categoria" id="categoria">
        <option selected disabled>Selecione</option>
        <% categorias.forEach((categoria) => { %>
            <option value=<%= categoria.id %> <%= categoria.id == Periodo.CategoriaId ? 'selected' : ''%>> <%= categoria.nome %></option>
        <% }) %> 
    </select>
  </label>

  <label>
    Valor Previsto:
    <input type="number" step="0.01" name="valorprevisto" id="valorprevisto" placeholder="Valor Previsto" autofocus>
  </label>

<button type="submit">Salvar</button>
</form>
<%- include('../parts/foot'); %>